// duluth-kiosmode.js v1.0.0
!function(){var e=["mousedown","mousemove","keydown","scroll","touchstart"],t={inactivityTimeout:3e5,screensaverUrl:"https://docs.google.com/presentation/d/1thc0QfGRwNdybBNjBdgPMyMGVbCKo4lHwytV6qFeaDM/embed?start=true&loop=true&delayms=5000&rm=minimal",clearCookies:!0,clearLocalStorage:!0,showNav:!0,whitelist:"*.duluthtrading.com *.paypal.com *.ultipro.com",allowPrint:!1,disallowUpload:!0,hideCursor:!0,disableContextMenu:!0,disableDrag:!0,disableTouchHighlight:!0,disableSelection:!0,keepAwake:!0},o={};function n(e){var t,o;if(e)return"true"===e.toLowerCase()||"false"!==e.toLowerCase()&&(t=e,(o=Math.floor(Number(t)))!==1/0&&String(o)===t&&o>=0?parseInt(e):e)}"undefined"!=typeof _kioskmode_config&&(o=_kioskmode_config);var i=new URL(window.location.href);for(var a of Object.keys(t)){var r=n(i.searchParams.get(a));void 0!==r?o[a]=r:o[a]||(o[a]=t[a])}function d(e){head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}if(window.self!==window.top){var s=function(){window.top.postMessage("kioskmode:active","*")};e.forEach(function(e){document.addEventListener(e,s,!0)});var c="";o.allowPrint||(c+="@media print{ body {display:none;} }\n"),o.disallowUpload&&document.querySelectorAll("input[type=file]").forEach(function(e){e.disabled=!0}),o.hideCursor&&(c+="*{cursor:none;}\n"),o.disableContextMenu&&(window.oncontextmenu=function(){return!1}),o.disableDrag&&(window.ondragstart=function(){return!1}),o.disableTouchHighlight&&(c+="*{-webkit-tap-highlight-color: rgba(0,0,0,0); -webkit-touch-callout: none;}\n"),o.disableSelection&&(c+="*{-webkit-user-select: none; user-select: none;}\n"),d(c)}else{var l,m;document.getElementsByTagName("body")[0].innerHTML="";d("body{margin:0;padding:0;overflow:hidden}#kioskmode_outer,#kioskmode_outer iframe,#kioskmode_screensaver{border:none;position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:1}#kioskmode_screensaver{z-index:2;pointer-events:none;background:#fff;overflow:hidden}body.kioskmode_hasnav #kioskmode_outer{top:48px}body.kioskmode_hasnav #kioskmode_nav{height:48px;width:100%;position:absolute;top:0;left:0;right:0;background:#000}body.kioskmode_hasnav #kioskmode_nav a{position:relative;display:block;float:left;height:48px;width:48px;text-align:center;line-height:48px;color:#fff;text-decoration:none;font-family:monospace;font-size:32px}body.kioskmode_hasnav #kioskmode_nav a:hover{background:#222}");for(var u=function(){if(o.clearCookiesOnReset)for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t],i=n.indexOf("="),a=i>-1?n.substr(0,i):n;document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}o.clearLocalStorageOnReset&&localStorage.clear(),window.location.reload()},h=document.getElementsByTagName("head")[0].getElementsByTagName("script"),k=0;k<h.length;k++)"kmjs"!==h[k].id&&h[k].parentNode.removeChild(h[k]);if(o.showNav){document.body.classList.add("kioskmode_hasnav");var f=document.createElement("nav");f.id="kioskmode_nav";var p=document.createElement("a");p.setAttribute("href",'javascript:document.getElementById("kioskmode_content").setAttribute("src", window.location.href)'),p.innerHTML="&#8962;",f.appendChild(p);var v=document.createElement("a");v.setAttribute("href",'javascript:document.getElementById("kioskmode_content").contentWindow.history.back()'),v.innerHTML="&#8592;",f.appendChild(v);var w=document.createElement("a");w.setAttribute("href",'javascript:document.getElementById("kioskmode_content").contentWindow.location.reload(true)'),w.innerHTML="&#8635;",f.appendChild(w),document.body.appendChild(f)}var g=document.createElement("div");g.id="kioskmode_outer";var b=document.createElement("iframe");b.id="kioskmode_content",b.src=window.location.href,b.onerror=function(e){console.error(e),b.src=window.location.href},b.setAttribute("allow","fullscreen"),o.whitelist&&b.setAttribute("csp","navigate-to "+location.host+" "+o.whitelist+";"),g.appendChild(b),document.body.appendChild(g);var y=function(e){l&&clearTimeout(l),o.inactivityTimeout&&(l=setTimeout(u,o.inactivityTimeout)),m&&m.remove()};if(window.onmessage=function(e){"kioskmode:active"==e.data&&y()},e.forEach(function(e){document.addEventListener(e,y,!0)}),o.screensaverUrl&&((m=document.createElement("iframe")).src=o.screensaverUrl,m.setAttribute("id","kioskmode_screensaver"),m.setAttribute("allow","fullscreen"),m.setAttribute("allowTransparency",!1),document.body.appendChild(m)),setInterval(function(){try{b.contentWindow.location.href}catch(e){b.src=window.location.href}},1e3),o.keepAwake)try{navigator.wakeLock.request("screen")}catch(e){console.error(`${e.name}, ${e.message}`)}}}();